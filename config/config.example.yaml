# 小红书内容创作Agent配置文件

# ==================== LLM配置 ====================
llm:
  # 提供商: zhipuai, openai, anthropic
  provider: "zhipuai"

  # ZhipuAI配置
  zhipuai:
    api_key: "${ZHIPUAI_API_KEY}"  # 从环境变量读取
    base_url: "https://open.bigmodel.cn/api/coding/paas/v4/"  # Coding 专用端点（最强编程能力）
    # 通用端点: https://open.bigmodel.cn/api/paas/v4/
    model: "glm-4.7"  # 最新旗舰模型（可选: glm-4-flash, glm-4-plus）
    temperature: 0.7
    max_tokens: 2000
    timeout: 60

    # Thinking 深度思考模式（GLM-4.7 专属功能）
    thinking:
      enabled: true  # 启用深度思考模式
      type: "auto"  # enabled=强制启用, auto=自动决定, disabled=关闭

  # OpenAI配置（备用）
  openai:
    api_key: "${OPENAI_API_KEY}"
    base_url: "https://api.openai.com/v1"
    model: "gpt-4o"
    temperature: 0.7
    max_tokens: 2000

# ==================== Agent配置 ====================
agents:
  # 热点抓取Agent
  trend_fetcher:
    enabled: true
    mock_mode: true  # true=模拟数据, false=真实API
    cache_ttl: 86400  # 缓存时间(秒), 24小时

  # 创意生成Agent
  idea_generator:
    enabled: true
    num_ideas: 5  # 生成创意数量
    temperature: 0.8  # 创意程度
    max_tokens: 1500

  # 文案生成Agent
  copywriter:
    enabled: true
    temperature: 0.7
    max_tokens: 2500
    style: "professional"  # 写作风格: professional, casual, humorous
    content_length: "medium"  # 内容长度: short, medium, long

  # 标题优化Agent
  title_optimizer:
    enabled: true
    num_titles: 10  # 生成标题数量
    clickbait_level: 0.3  # 标题党程度 0-1
    use_emojis: true  # 使用emoji

  # 图像建议Agent
  image_advisor:
    enabled: true
    num_suggestions: 3  # 配图建议数量
    generate_sd_prompts: true  # 生成Stable Diffusion提示词

  # 质量评估Agent
  quality_evaluator:
    enabled: true
    min_score: 7.0  # 最低质量分数
    auto_improve: true  # 自动改进低分内容

# ==================== 工作流配置 ====================
workflow:
  # 执行模式: sequential, parallel, custom
  mode: "sequential"

  # 是否启用所有Agent
  run_all_agents: true

  # 保存中间输出
  save_intermediate_outputs: true

  # 输出目录
  output_dir: "data/outputs"

  # 输出格式: json, markdown, html
  output_formats:
    - "json"
    - "markdown"

# ==================== 提示词模板配置 ====================
prompts:
  # 提示词模板文件路径
  template_file: "config/prompts.yaml"

  # 自定义系统提示词（可选，覆盖prompts.yaml）
  custom_system_prompts:
    trend_fetcher: null
    idea_generator: null
    copywriter: null
    title_optimizer: null
    image_advisor: null
    quality_evaluator: null

# ==================== 日志配置 ====================
logging:
  # 日志级别: DEBUG, INFO, WARNING, ERROR
  level: "INFO"

  # 日志格式
  format: "<green>{time:YYYY-MM-DD HH:mm:ss}</green> | <level>{level: <8}</level> | <cyan>{name}</cyan>:<cyan>{function}</cyan> - <level>{message}</level>"

  # 日志文件
  file:
    enabled: true
    path: "logs/app.log"
    rotation: "100 MB"
    retention: "30 days"

  # 控制台输出
  console:
    enabled: true

# ==================== 缓存配置 ====================
cache:
  # 是否启用缓存
  enabled: true

  # 缓存类型: memory, redis
  type: "memory"

  # Redis配置（当type=redis时使用）
  redis:
    host: "localhost"
    port: 6379
    db: 0
    password: null
    ttl: 86400

# ==================== 数据存储配置 ====================
storage:
  # 热点数据存储
  trends:
    dir: "data/trends"
    format: "json"

  # 生成内容存储
  outputs:
    dir: "data/outputs"
    format: "json"
    naming_pattern: "{date}_{topic}_{timestamp}.json"

# ==================== 小红书平台配置 ====================
xiaohongshu:
  # 是否使用真实API
  use_real_api: false

  # MCP配置（未来集成）
  mcp:
    enabled: false
    server_url: "http://localhost:3000"

  # 热门分类
  categories:
    - "AI工具"
    - "编程开发"
    - "效率提升"
    - "职场成长"
    - "汽车科技"

# ==================== 质量控制 ====================
quality_control:
  # 内容过滤关键词
  filter_keywords:
    - "违法"
    - "诈骗"
    - "赌博"

  # 最小内容长度
  min_content_length: 200

  # 最大内容长度
  max_content_length: 5000

  # 是否进行敏感词检测
  sensitivity_check: true

# ==================== 成本控制 ====================
cost_control:
  # 每日最大token数
  daily_token_limit: 100000

  # 单次请求最大token数
  max_tokens_per_request: 5000

  # 启用成本追踪
  track_costs: true

# ==================== 开发模式 ====================
development:
  # 开发模式
  debug: false

  # 模拟LLM响应（测试用）
  mock_llm: false

  # 保存所有中间状态
  save_all_states: false

  # 并行Agent执行
  parallel_execution: false
